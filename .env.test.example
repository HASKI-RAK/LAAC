# ===================================================================
# LAAC Test Environment Configuration
# ===================================================================
# Copy this file to .env.test for local test execution
# These values match docker-compose.test.yml service configurations
# CI/CD will override these with GitHub secrets automatically
# ===================================================================

# ===================================================================
# LRS Configuration for Local Testing
# ===================================================================

# Local LRS via docker-compose.test.yml (default for local development)
LRS_DOMAIN=http://localhost:8090/xapi
LRS_USER=test-api-key
LRS_SECRET=test-api-secret
#
# See docs/LRS-CONFIGURATION.md for naming convention details

# ===================================================================
# Redis Configuration for Testing
# ===================================================================

# Redis via docker-compose.test.yml or service container
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=15

# Test-specific Redis config
TEST_REDIS_HOST=localhost
TEST_REDIS_PORT=6379
TEST_REDIS_DB=15

# ===================================================================
# Authentication & Security
# ===================================================================

# JWT secret for test tokens
JWT_SECRET=test-jwt-secret-min-32-characters-long-for-testing
JWT_EXPIRATION=1h
AUTH_ENABLED=true

# ===================================================================
# Logging & Debug
# ===================================================================

# Reduce log noise during tests
LOG_LEVEL=error
NODE_ENV=test

# ===================================================================
# Rate Limiting for Tests
# ===================================================================

RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ===================================================================
# Usage Instructions
# ===================================================================
#
# 1. For local testing with containerized LRS:
#    - Copy this file to .env.test
#    - Start services: docker-compose -f docker-compose.test.yml up -d
#    - Seed LRS: node scripts/seed-test-lrs.js
#    - Run tests: yarn test:e2e
#
# 2. For testing against external LRS (like CI does):
#    - Copy this file to .env.test
#    - Update LRS_DOMAIN, LRS_SECRET, LRS_SECRET with your external LRS
#    - Run tests: yarn test:e2e
#
# 3. CI/CD automatically uses GitHub secrets (no .env.test needed)
#
# ===================================================================
# To prevent key collisions in Redis during tests, use this prefix:
TEST_KEY_PREFIX=test-laac
